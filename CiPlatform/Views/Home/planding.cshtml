
@{
Layout = "_navbar1";
}
@model List<CiPlatform.Entitites.Models.Mission>
<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Landing-Page</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<!-- <link rel="stylesheet" href="/Css/text.css"> -->
<link rel="stylesheet" href="/css/navbar.css">
</head>

<body>
<div class="filters-section d-flex align-items-center flex-wrap justify-content-center mt-2">

</div>
<div class="container grid-container mt-2">
<div class="row mb-2">
<div class="d-flex">
<div class="firstdiv me-auto d-flex">
<p class="fs-4 me-2">Explore</p>
<h4>@ViewBag.TotalMission mission</h4>
</div>

<div class="sort-list-grid d-flex">

<div class="dropdown sort me-2 mt-1">
<button class=" btn dropdown d-flex " type="button" data-bs-toggle="dropdown"
aria-expanded="false">
@ViewBag.Oredr
<span class="sortby me-5 ">@ViewBag.Oredr</span>
<img src="/Image/drop-down.png" alt="" class="sortaerrow">
</button>
<ul class="dropdown-menu">
<li><a class="dropdown-item" asp-action="landingpage" asp-controller="landingpage" asp-route-sortOrder="1">Title</a></li>
<li><a class="dropdown-item" asp-action="landingpage" asp-controller="landingpage" asp-route-sortOrder="2">Start Date</a></li>
<li><a class="dropdown-item" asp-action="landingpage" asp-controller="landingpage" asp-route-sortOrder="3">End Date</a></li>
</ul>

@*<select>
<option selected>Choose a number</option>
<option><a class="dropdown-item" asp-action="landingpage" asp-controller="landingpage" asp-route-sortOrder="1">Title</a></option>
<option><a class="dropdown-item" asp-action="landingpage" asp-controller="landingpage" asp-route-sortOrder="2">Start Date</a></option>
<option><a class="dropdown-item" asp-action="landingpage" asp-controller="landingpage" asp-route-sortOrder="3">End Date</a></option>
</select>*@
</div>



<div class="me-2 mt-1">
<button onclick="grid()" class="grid"><img src="/Image/grid.png"></button>
</div>
<div class="mt-1 me-4">
<button onclick="list()" class="list"><img src="/Image/list.png" alt="list"></button>
</div>
</div>

</div>
</div>

<div class="row " id="myItems">

@foreach (var item in Model)
{
<div class="missioncard col-12 col-md-6 col-lg-4 mb-2 " id="myItems">

<div class="card">

<div class="img-event">
<img class="card-img-top card-img"
src="/Image/Grow-Trees-On-the-path-to-environment-sustainability-login.png"
alt="Card image cap">
<div class="landing-page-top-right "><img src="/Image/pin.png" alt=""> @item.City.Name</div>

<div class="landing-page-bottom-right d-flex flex-column">
<button class="mb-2 landing-page-btn-img">
<img src="/Image/heart.png" alt="">
</button>
<button class="landing-page-btn-img">
<img src="/Image/user.png" alt="">
</button>
</div>

<div><button class="theme-btn ">@item.Theme.Title</button></div>
<!-- <button class="theme-btn ">Environment</button> -->
</div>


<div class="card-body mt-2">
<h5 class="card-title " style="overflow: hidden; display: -webkit-box;-webkit-line-clamp: 1;-webkit-box-orient: vertical;">
@item.Title
</h5>
<p class="card-text text-secondary " style="overflow: hidden; display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;">
@item.ShortDescription
</p>

<div class="d-flex">
<div class="card-text">@item.OrganizationName</div>
<div class="ms-auto">
<img src="/Image/selected-star.png" class="star" alt="">
<img src="/Image/selected-star.png" class="star" alt="">
<img src="/Image/selected-star.png" class="star" alt="">
<img src="/Image/star-empty.png" class="star" alt="">
<img src="/Image/star-empty.png" class="star" alt="">
</div>
</div>

<div class="rule mt-1">
<hr>
<button class="date-btn mt-1">From @item.StartDate.ToString().Split(" ")[0] until @item.EndDate.ToString().Split(" ")[0]</button>
<hr>
</div>

<div class="d-flex">
<div><img src="/Image/Seats-left.png" class="mt-2"></div>
<div class="ms-2">
10 <p class="seat">seat Left</p>
</div>


@if (item.MissionType == "Time")
{
<div class="ms-auto"><img src="/Image//deadline.png" class="mt-2"></div>
<div class="ms-2">
@item.EndDate.ToString().Split(" ")[0] <p>Deadline</p>
</div>
}
else
{

<div class="ms-auto me-2"><img src="/Image/achieved.png" class="mt-2"></div>
<div class="ms-2 me-5" stye="width:100%">
<div class="progress mt-2" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
<div class="progress-bar bg-warning" style="width: 25%">25%</div>
</div>
<fs-5>Deadline</fs-5>
</div>
}

@*<div class="ms-auto"><img src="/Image//deadline.png" class="mt-2"></div>
<div class="ms-2">
09/01/2019 <p>Deadline</p>
</div>*@
</div>
<hr class="mt-0">

<div class="text-center">
<button class="Apply-btn p-2">
&nbsp;Apply &nbsp;&nbsp;<img src="/Image/right-arrow.png"
alt="">
</button>
</div>
</div>
</div>

</div>

}

</div>


</div>
<nav aria-label="Page navigation example" class="d-flex justify-content-center">

<ul class="pagination">

<li class="page-item @(ViewBag.CurrentPage == 0 ? "disabled" : "")">
<a class="page-link" href="/Landingpage/Landingpage/?sortOreder=@ViewBag.Order&searchQuery=@ViewBag.searchQuery&pageIndex=@(ViewBag.CurrentPage - 1)" aria-label="Previous">
<span aria-hidden="true">&laquo;</span>
</a>
</li>

@for (int i = 0; i < ViewBag.TotalPages; i++)
{
<li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
<a class="page-link" href="/Landingpage/Landingpage/?sortOreder=@ViewBag.Order&searchQuery=@ViewBag.searchQuery&pageIndex=@i">@((i + 1).ToString())</a>
</li>
}

<li class="page-item @(ViewBag.CurrentPage == ViewBag.TotalPages - 1 ? "disabled" : "")">
<a class="page-link" href="/Landingpage/Landingpage/?sortOreder=@ViewBag.Order&searchQuery=@ViewBag.searchQuery&pageIndex=@(ViewBag.CurrentPage + 1)" aria-label="Next">
<span aria-hidden="true">&raquo;</span>
</a>
</li>

</ul>
</nav>
<hr />
<footer class="container mb-3"><a asp-action="NoMissionFound" class="text-secondary">Privacy Policy</a></footer>

<script>
var card = document.getElementsByClassName("missioncard")
var cardimg = document.getElementsByClassName("card-img");
var carddisplay = document.getElementsByClassName("card");
var theme = document.getElementsByClassName("theme-btn");

function list() {
for (i = 0; i < card.length; i++) {
card[i].style.width = "100%";
card[i].style.marginTop = "1%";
carddisplay[i].style.display = "flex";
carddisplay[i].style.flexDirection = "row";
cardimg[i].style.height = "48vh";
theme[i].style.top = "95%";
// theme[i].style.left = "34%";
}
}
function grid() {
for (i = 0; i < card.length; i++) {

if (screen.width > 1023) {
card[i].style.width = "33%";
carddisplay[i].style.flexDirection = "column";
cardimg[i].style.width = "100%";
theme[i].style.top = "95%";
theme[i].style.left = "35%";
}
else {
card[i].style.width = "50%";
carddisplay[i].style.flexDirection = "column";
cardimg[i].style.width = "100%";
theme[i].style.top = "95%";
theme[i].style.left = "35%";

}
}
}

</script>
<script src="/js/filter.js"></script>
</body>
</html>