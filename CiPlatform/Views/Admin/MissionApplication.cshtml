@*@using System.Security.Claims*@
@model CiPlatform.Entitites.ViewModels.AdminView


@*@{
var identity = User.Identity as ClaimsIdentity;
var name = identity?.FindFirst(ClaimTypes.Name)?.Value;
var surname = identity?.FindFirst(ClaimTypes.Surname)?.Value;
//var useravatar = identity?.FindFirst(ClaimTypes.UserData)?.Value;
}*@
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">

    <link rel="stylesheet" href="~/css/admin.css">
    <title>CMS Page</title>
</head>

<body>
    @*<div class = "container">
    <partial name="_Admin" />
    </div>*@
   
    <div class="container-fluid ps-0">

        <div class="row">
            <div class="pt-5 col-sm-2 col-md-2 d-none d-sm-block sidebar">

                <div class="pt-3 ps-4 sidebarcontent d-none d-md-inline align-items-stretch">
                    NAVIGATION
                </div>

                <div class="mt-3 atMediuemPaddingWholeContent" id="activeId">
                    <dl>
                        <dt class="mt-4">
                            <a asp-action="User" asp-controller="Admin"
                                class="p-0 sidebarcontent d-flex atMediumConvertIntoColum">
                                <i class="bi bi-person-fill me-2 sidebar-img"></i>
                                <span class="d-none d-lg-block d-md-none sidebar-text-font">User</span>
                            </a>
                        </dt>
                        <dt class="mt-4 ">
                            <a asp-action="MissionPage" asp-controller="Admin"
                                class="p-0 sidebarcontent d-flex atMediumConvertIntoColum">
                                <i class="bi bi-bullseye sidebar-img me-2"></i><span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">Mission</span>
                            </a>
                        </dt>
                        <dt class="mt-4">
                             <a asp-action="CmsPage" asp-controller="Admin"
                            class="sidebarcontent d-flex p-0 atMediumConvertIntoColum">
                                <i class="bi bi-file-earmark-fill me-2 sidebar-img"></i><span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">CMS Page</span>
                            </a>
                        </dt>
                        <dt class="mt-4 ">
                             <a asp-action="MissionTheme" asp-controller="Admin"
                             class="sidebarcontent d-flex p-0 atMediumConvertIntoColum">
                                <i class="bi bi-grid-1x2-fill sidebar-img me-2"></i> <span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">Mission Theme</span>
                            </a>
                        </dt>
                        <dt class="mt-4 ">
                            <a asp-action="MissionSkills" asp-controller="Admin"
                            class="sidebarcontent d-flex p-0 atMediumConvertIntoColum">
                                <i class="bi bi-tools sidebar-img me-2"></i><span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">
                                    Mission
                                    Skills
                                </span>
                            </a>
                        </dt>
                        <dt class="mt-4 ">
                            <a asp-action="MissionApplication" asp-controller="Admin"
                                class=" sidebarcontent d-flex p-0 atMediumConvertIntoColum">
                                <i class="bi bi-folder2 me-2 sidebar-img"></i><span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">
                                    Mission
                                    Application
                                </span>
                            </a>
                        </dt>
                        <dt class="mt-4 ">

                            <a asp-action="StoryPage" asp-controller="Admin"
                                class="sidebarcontent d-flex p-0 atMediumConvertIntoColum">
                                <i class="bi bi-file-medical me-2 sidebar-img "></i> <span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">
                                    Story
                                </span>
                            </a>
                        </dt>
                        <dt class="mt-4 ">
                            <a href="#" class="sidebarcontent d-flex p-0 atMediumConvertIntoColum">
                                <i class="bi bi-border-style me-2 sidebar-img "></i> <span
                                    class="d-none d-lg-block d-md-none sidebar-text-font">Banner Management</span>
                            </a>
                        </dt>
                    </dl>
                </div>

            </div>

            <!-- user page -->
            <div class="col-sm-10 col-md-10">

                <div class="row d-flex ">
                    <div class="col-2 col-sm-0">
                        <button class="btn d-sm-none" type="button" data-bs-toggle="offcanvas"
                            data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
                            <i class="bi bi-list " style="font-size:40px;"></i>
                        </button>
                    </div>

                    <div class="col-10 col-sm-12 d-flex justify-content-between headerBar bottom">
                        <div class="pt-4 ps-3"><span id="time"></span></div>
                         <div class=" dropdown mt-3">

                            <button class="btn dropdown-button dropdown-toggle" type="button" id="dropdownMenuButton1"
                                data-bs-toggle="dropdown" aria-expanded="false"> </button>
                                @if (User.FindFirst("Avatar") != null)
                                        {
                                            <img src="@User.FindFirst("Avatar").Value" alt="mdo" width="32" height="32" class="rounded-circle" />
                                        }
                                        @{
                                            var firstname = Context.Session.GetString("Firstname");
                                        }
                                        @ViewBag.firstname
                           

                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </div>
                        <div class="dropdown mt-3">
                            <a class="btn dropdown-button " id="dropdownMenuButton1" data-bs-toggle="dropdown"
                                aria-expanded="false">

                                @if (User.FindFirst("Avatar") != null)
                                        {
                                            <img src="@User.FindFirst("Avatar").Value" alt="mdo" width="32" height="32" class="rounded-circle" />
                                        }
                                      
                                        @ViewBag.firstname
                                <span class="ms-2 me-1 d-sm-inline d-none"> <img src="~/images/drop-down.png"></span>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <li><a class="dropdown-item" asp-action="platformlandingpage"
                                        asp-controller="MissionCard">Dashboard</a></li>
                                <li><a class="dropdown-item" asp-action="UserEdit" asp-controller="Home">My
                                        Account</a></li>
                                <li><a class="dropdown-item" asp-action="Timesheet"
                                        asp-controller="Story">Volunteering TimeSheet</a></li>
                                <li><a onclick="noBack();" class="dropdown-item" asp-action="Login"
                                        asp-controller="Home">Logout</a></li>

                            </ul>
                        </div>
                            <script type="text/javascript">
                                window.history.forward();
                                function noBack() { window.history.forward(); }
                            </script>


                    </div>
                </div>

                <div class="col-sm-10 col-md-9 w-100 overflow-partial" style="margin-top: 2%;" id="loadPartialView">
                  @*   @await Html.PartialAsync("~/Views/Shared/_Admin.cshtml")
                    @* @RenderBody()*@
                    
                    <partial name="_MissionApplication" />
                    
                </div>


                <div class="offcanvas offcanvas-start sidebar" tabindex="-1" id="offcanvasExample"
                    aria-labelledby="offcanvasExampleLabel">
                    <div class="offcanvas-header">

                        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                            aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body ">

                        <div class="pt-2 ps-3 sidebarcontent">
                            NAVIGATION
                        </div>

                        <div class="mt-3 atMediuemPaddingWholeContent">
                            <dl>
                                <dt class="mt-3">
                                    <a onclick="GetUser()"
                                        class="sidebarcontent active d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-person-fill me-2 sidebar-img"></i> <span
                                            class=" pt-1 sidebar-text-font">User</span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">
                                    <a onclick="getmissions()" class="sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-bullseye sidebar-img me-2"></i><span
                                            class="pt-1 sidebar-text-font">Mission</span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">
                                    <a href="#" class=" sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-file-earmark-fill me-2 sidebar-img"></i><span
                                            class="pt-1 sidebar-text-font">CMS Page</span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">
                                    <a href="#" class=" sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-grid-1x2-fill sidebar-img me-2"></i> <span
                                            class="pt-1 sidebar-text-font">Mission Theme</span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">
                                    <a href="#" class=" sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-tools sidebar-img me-2"></i><span
                                            class="pt-1 sidebar-text-font">
                                            Mission
                                            Skills
                                        </span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">
                                    <a href="#" class=" sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-folder2 me-2 sidebar-img"></i><span
                                            class="pt-1 sidebar-text-font">
                                            Mission
                                            Application
                                        </span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">

                                    <a href="#" class=" sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-file-medical me-2 sidebar-img"></i> <span
                                            class="pt-1 sidebar-text-font">
                                            Story
                                        </span>
                                    </a>
                                </dt>
                                <dt class="mt-3 ">
                                    <a href="#" class=" sidebarcontent d-flex atMediumConvertIntoColum">
                                        <i class="bi bi-border-style me-2 sidebar-img"></i> <span
                                            class="pt-1 sidebar-text-font">Banner Management</span>
                                    </a>
                                </dt>
                            </dl>
                        </div>



                    </div>
                </div>

            </div>
        </div>

    </div>
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>

  @*  <script>
        function times() {
            var now = new Date();
            var formatdate = now.toLocaleString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric', hour12: true });
            document.getElementById("time").innerHTML = formatdate;
        }
        times();
        setInterval(times, 1000);
    </script>*@
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>



</body>

</html>

